(this["webpackJsonpshopping-site"]=this["webpackJsonpshopping-site"]||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),o=a(3),r=a.n(o),i=(a(13),a(6)),d=a(4),l=a(5),n=a(8),u=a(7),p=(a(14),a(0)),g=function(e){Object(n.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).paginator=function(e,t,a){var s=t||1,c=a||10,o=(s-1)*c,r=e.slice(o).slice(0,a),i=Math.ceil(e.length/c);return{page:s,per_page:c,pre_page:s-1?s-1:null,next_page:i>s?s+1:null,total:e.length,total_pages:i,data:r}},s.setPageDatas=function(e){s.setState({paginationResponse:e},(function(){console.log("this.state.paginationResponse",s.state.paginationResponse),s.loadPageNumber(s.state.paginationResponse),s.onLoadProductData(s.state.paginationResponse)}))},s.loadPageNumber=function(e){for(var t=[],a=1;a<=e.total_pages;a++)t.push(a);s.setState({pageNumber:t},(function(){console.log("this.state.page",s.state.pageNumber)}))},s.pageNumbClick=function(e){console.log("----------------page clicked---------------"),e.preventDefault(),console.log(e.target.dataset.page);var t,a=[];t=0===s.state.filtered.length?s.paginator(s.state.products,e.target.dataset.page,9):s.paginator(s.state.filtered,e.target.dataset.page,9),console.log(t);for(var c=0;c<t.data.length;c++)a.push(t.data[c]);s.setState({pageWiseProducts:a,page_active_link:parseInt(e.target.dataset.page)},(function(){console.log(s.state.page_active_link)})),console.log("----------------page clicked---------------")},s.addProductBtn=function(){var e=document.getElementById("myModal"),t=document.getElementsByTagName("body")[0],a=(document.getElementById("save"),document.getElementById("title")),s=document.getElementById("price");a.value="",s.value="",e.style.display="block",t.style.overflow="hidden"},s.closeModal=function(){var e=document.getElementById("myModal"),t=document.getElementsByTagName("body")[0],a=document.getElementById("title"),c=document.getElementById("price");e.style.display="none",t.style.overflow="auto",a.value="",c.value="",s.setState({isEdit:!1})},s.productClicked=function(e){console.log(e.target.dataset.value);var t=document.getElementById("myModal"),a=(document.getElementById("save"),document.querySelectorAll(".product-category select option")),c=document.querySelector("#title"),o=document.querySelector("#price"),r=document.getElementById("topProduct"),i=(document.querySelector('input[type="file"]').files[0],document.querySelector('input[type="file"]')),d=parseInt(e.target.dataset.value);s.setState({isEdit:!0},(function(){t.setAttribute("data-value",d);var e=document.getElementsByTagName("body")[0];t.style.display="block",e.style.overflow="hidden",a.forEach((function(e){e.removeAttribute("selected","")})),s.state.products.forEach((function(e){e.id==d&&(a.forEach((function(t){t.value===e.productCategory&&(console.log(t),t.setAttribute("selected",""))})),c.value=e.productTitle,o.value=e.price,r.checked=e.topProducts,i.value="")}))}))},s.editProduct=function(){var e=document.getElementById("selectedCategory"),t=document.getElementById("title").value,a=document.getElementById("price").value,c=document.getElementById("topProduct"),o=document.querySelector('input[type="file"]').files[0];if(t&&a){var r=document.getElementById("myModal"),i=document.getElementsByTagName("body")[0];r.style.display="none",i.style.overflow="auto",console.log(r.dataset.value);var d=r.dataset.value;s.state.products.forEach((function(r){if(r.id==d){var i=e.options[e.selectedIndex].text;if(r.productCategory=i,r.productTitle=t,r.price=parseInt(a),r.topProducts=c.checked,o){var l=URL.createObjectURL(o);r.uploadedImageSrc=l}s.setState({products:s.state.products},(function(){if(s.updateMaxPrice(s.state.products),1==r.topProducts){var e=s.state.topProduct.filter((function(e){return e==r}));console.log("result",e),0==e.length&&s.state.topProduct.push(r),console.log(s.state.topProduct),s.setState({topProduct:s.state.topProduct})}else s.state.topProduct.forEach((function(e){if(console.log(e),e==r){var t=s.state.topProduct.indexOf(r);console.log(t),s.state.topProduct.splice(t,1)}})),s.setState({topProduct:s.state.topProduct})}))}}))}else document.getElementById("error-msg-title").innerHTML=t?"":"Please Enter the Title",document.getElementById("error-msg-price").innerHTML=a?"":"Please Enter the Price"},s.addProduct=function(){var e={};e.id=s.state.products.length+1;var t=document.getElementById("selectedCategory"),a=t.options[t.selectedIndex].text;e.productCategory=a;var c=document.getElementById("title").value;e.productTitle=c;var o=document.getElementById("price").value;e.price=parseInt(o);var r=document.getElementById("topProduct").checked;e.topProducts=r;var i=document.querySelector('input[type="file"]').files[0];if(c&&o&&void 0!=i){var d=URL.createObjectURL(i);e.uploadedImageSrc=d;var l=document.getElementById("myModal"),n=document.getElementsByTagName("body")[0];l.style.display="none",n.style.overflow="auto",!0===r?(s.state.topProduct.push(e),s.state.products.push(e),s.setState({products:s.state.products,topProduct:s.state.topProduct},(function(){s.updateMaxPrice(s.state.products);var e=s.paginator(s.state.products,1,9);s.setPageDatas(e)}))):(s.state.products.push(e),s.setState({products:s.state.products},(function(){s.updateMaxPrice(s.state.products);var e=s.paginator(s.state.products,1,9);s.setPageDatas(e)})))}else document.getElementById("error-msg-title").innerHTML=c?"":"Please Enter the Title",document.getElementById("error-msg-price").innerHTML=o?"":"Please Enter the Price",document.getElementById("error-msg-file").innerHTML=void 0==i?"Please Upload the file":""},s.filterByCategory=function(e){var t=[],a=e.target.innerHTML;s.state.products.map((function(e){e.productCategory===a&&t.push(e)})),s.setState({filtered:t,filterCategory:t},(function(){s.updateMaxPrice(t);var e=s.paginator(s.state.filtered,1,9);s.setPageDatas(e)}))},s.updateMaxPrice=function(e){var t=e.map((function(e){return e.price})),a=Math.max.apply(Math,Object(i.a)(t)),s=parseInt(a),c=document.querySelector(".price-range b span"),o=document.getElementById("slider");o.value=0,c.innerHTML=s,o.max=s},s.rangeSlider=function(e){document.querySelector(".price-range b span").innerHTML=e.target.value;var t=[];null==s.state.filterCategory?(s.state.products.forEach((function(a){a.price<=e.target.value&&t.push(a)})),s.setState({filtered:t},(function(){var e=s.paginator(s.state.filtered,1,9);s.setPageDatas(e)}))):(s.state.filterCategory.forEach((function(a){a.price<=e.target.value&&t.push(a)})),s.setState({filtered:t},(function(){var e=s.paginator(s.state.filtered,1,9);s.setPageDatas(e)})))},s.sortByPrice=function(){var e=document.getElementById("selectedSort"),t=e.options[e.selectedIndex].value;1==t?s.priceHighToLow():2==t?s.priceLowToHigh():s.defaultSorting()},s.defaultSorting=function(){if(s.state.filtered.length<1){var e=s.state.products.sort((function(e,t){return parseFloat(e.id)-parseFloat(t.id)}));s.setState({filtered:e},(function(){var e=s.paginator(s.state.filtered,1,9);s.setPageDatas(e)}))}else{var t=s.state.filtered.sort((function(e,t){return parseFloat(e.id)-parseFloat(t.id)}));s.setState({filtered:t},(function(){var e=s.paginator(s.state.filtered,1,9);s.setPageDatas(e)}))}},s.priceLowToHigh=function(){if(s.state.filtered.length<1){var e=s.state.products.sort((function(e,t){return parseFloat(e.price)-parseFloat(t.price)}));s.setState({filtered:e},(function(){var e=s.paginator(s.state.filtered,1,9);s.setPageDatas(e)}))}else{var t=s.state.filtered.sort((function(e,t){return parseFloat(e.price)-parseFloat(t.price)}));s.setState({filtered:t},(function(){var e=s.paginator(s.state.filtered,1,9);s.setPageDatas(e)}))}},s.priceHighToLow=function(){if(s.state.filtered.length<1){var e=s.state.products.sort((function(e,t){return parseFloat(t.price)-parseFloat(e.price)}));s.setState({filtered:e},(function(){var e=s.paginator(s.state.filtered,1,9);s.setPageDatas(e)}))}else{var t=s.state.filtered.sort((function(e,t){return parseFloat(t.price)-parseFloat(e.price)}));s.setState({filtered:t},(function(){var e=s.paginator(s.state.filtered,1,9);s.setPageDatas(e)}))}},s.state={products:[{id:1,productCategory:"Books",productTitle:"Plain Notebook",price:109,topProducts:!1,sale:!0,uploadedImageSrc:"https://source.unsplash.com/400x300/?notebook"},{id:2,productCategory:"Bags",productTitle:"Casual HandBag",price:49,topProducts:!1,sale:!1,uploadedImageSrc:"https://source.unsplash.com/400x300/?handbag"},{id:3,productCategory:"Books",productTitle:"e-Book Reader",price:199,topProducts:!1,sale:!0,uploadedImageSrc:"https://source.unsplash.com/400x300/?e-book"},{id:4,productCategory:"Books",productTitle:"Hard CoverBook",price:59,topProducts:!1,sale:!1,uploadedImageSrc:"https://source.unsplash.com/400x300/?Book"},{id:5,productCategory:"Misc",productTitle:"Mug Mockup",price:99,topProducts:!1,sale:!1,uploadedImageSrc:"https://source.unsplash.com/400x300/?Mug"},{id:6,productCategory:"Hoodie/T-shirt",productTitle:"Hoodie Red",price:599,topProducts:!1,sale:!0,uploadedImageSrc:"https://source.unsplash.com/400x300/?Hoodie"},{id:7,productCategory:"Misc",productTitle:"Poster Mockup",price:89,topProducts:!1,sale:!1,uploadedImageSrc:"https://source.unsplash.com/400x300/?Poster"},{id:8,productCategory:"Misc",productTitle:"Poster Mockup",price:19,topProducts:!1,sale:!1,uploadedImageSrc:"https://source.unsplash.com/400x300/?Poster"},{id:9,productCategory:"Misc",productTitle:"Poster Mockup",price:20,topProducts:!1,sale:!1,uploadedImageSrc:"https://source.unsplash.com/400x300/?Poster"},{id:10,productCategory:"Misc",productTitle:"Shoes",price:2e3,topProducts:!1,sale:!1,uploadedImageSrc:"https://source.unsplash.com/400x300/?shoes"}],topProduct:[{id:0,productCategory:"Misc",productTitle:"Mug Mockup",price:99,topProducts:!0,uploadedImageSrc:"https://source.unsplash.com/70x70/?mug,mockup"}],filtered:[],filterCategory:null,onclick:s.addProduct,isEdit:!1,paginationResponse:[],pageNumber:[],pageWiseProducts:[],page_active_link:1},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.updateMaxPrice(this.state.products),window.addEventListener("click",(function(e){var t=document.getElementById("myModal");if(e.target==t){var a=document.getElementsByTagName("body")[0],s=document.getElementById("title"),c=document.getElementById("price");t.style.display="none",a.style.overflow="auto",s.value="",c.value=""}}));var e=this.paginator(this.state.products,1,9);this.setPageDatas(e)}},{key:"onLoadProductData",value:function(e){for(var t=this,a=[],s=0;s<e.data.length;s++)a.push(e.data[s]);this.setState({pageWiseProducts:a},(function(){console.log("onload data",t.state.pageWiseProducts)}))}},{key:"render",value:function(){var e=this,t=this.state,a=(t.page_active_link,t.pageNumber);return console.log("state after render",this.state),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("header",{className:"header",children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("div",{className:"product-logo",children:Object(p.jsx)("a",{href:"index.html",children:"Products"})}),Object(p.jsx)("button",{id:"myBtn",onClick:this.addProductBtn,className:"add-product",children:"Add Product"}),Object(p.jsx)("div",{id:"myModal",className:"modal",children:Object(p.jsxs)("div",{className:"modal-content",children:[Object(p.jsxs)("div",{className:"modal-header",children:[Object(p.jsx)("span",{onClick:this.closeModal,className:"close",children:"\xd7"}),Object(p.jsx)("h2",{children:"Add Product"})]}),Object(p.jsx)("div",{className:"modal-body",children:Object(p.jsxs)("form",{action:"",children:[Object(p.jsxs)("div",{className:"product-category",children:[Object(p.jsx)("div",{className:"product-category-name",children:"product Category"}),Object(p.jsxs)("select",{className:"select-product-category",name:"",id:"selectedCategory",children:[Object(p.jsx)("option",{value:"Books",children:"Books"}),Object(p.jsx)("option",{value:"Hoodie/T-shirt",children:"Hoodie/T-shirt"}),Object(p.jsx)("option",{value:"Bags",children:"Bags"}),Object(p.jsx)("option",{value:"Misc",children:"Misc"})]})]}),Object(p.jsxs)("div",{className:"product-title",children:[Object(p.jsx)("div",{className:"product-title-name",children:"product Title"}),Object(p.jsx)("input",{id:"title",className:"title",type:"text",placeholder:"Enter Product Tilte"}),Object(p.jsx)("div",{id:"error-msg-title",className:"error-msg"})]}),Object(p.jsxs)("div",{className:"product-price",children:[Object(p.jsx)("div",{className:"product-price-name",children:"Price"}),Object(p.jsx)("input",{id:"price",className:"price",type:"number",placeholder:"Enter Price"}),Object(p.jsx)("div",{id:"error-msg-price",className:"error-msg"})]}),Object(p.jsxs)("div",{className:"product-top",children:[Object(p.jsx)("input",{id:"topProduct",className:"top-product",type:"checkbox"}),Object(p.jsx)("span",{className:"product-top-name",children:"Top Products"})]}),Object(p.jsxs)("div",{className:"product-image",children:[Object(p.jsx)("div",{className:"product-image-name",children:"Upload Product Image"}),Object(p.jsxs)("label",{className:"custom-file-upload",children:[Object(p.jsx)("input",{name:"uploadImg",id:"uploadedImage",type:"file"}),"Upload"," "]}),Object(p.jsx)("span",{className:"show-img-name"}),Object(p.jsx)("div",{id:"error-msg-file",className:"error-msg"})]})]})}),Object(p.jsx)("div",{className:"modal-footer",children:Object(p.jsxs)("div",{className:"footer-cancel-save-container",children:[Object(p.jsx)("button",{onClick:this.closeModal,id:"cancel",className:"cancel",children:"CANCEL"}),Object(p.jsx)("button",{onClick:this.state.isEdit?this.editProduct:this.addProduct,id:"save",className:"save",children:"SAVE"})]})})]})})]})}),Object(p.jsx)("main",{className:"main",children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsxs)("div",{className:"left-sidebar",children:[Object(p.jsxs)("div",{className:"categories",children:[Object(p.jsx)("div",{className:"sidebar-heading",children:"Categories"}),Object(p.jsx)("div",{children:Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{onClick:this.filterByCategory,value:"Books",children:"Books"}),Object(p.jsx)("li",{onClick:this.filterByCategory,value:"Hoodie/T-shirt",children:"Hoodie/T-shirt"}),Object(p.jsx)("li",{onClick:this.filterByCategory,value:"Bags",children:"Bags"}),Object(p.jsx)("li",{onClick:this.filterByCategory,value:"Misc",children:"Misc"})]})})]}),Object(p.jsxs)("div",{className:"filter-by-price",children:[Object(p.jsx)("div",{className:"sidebar-heading",children:"Filter By Price"}),Object(p.jsx)("input",{onChange:this.rangeSlider,type:"range",id:"slider",min:"0",max:"599"}),Object(p.jsxs)("div",{className:"filter-btn-price",children:[Object(p.jsx)("button",{className:"filter-btn",children:"Filter"}),Object(p.jsxs)("span",{className:"price-range",children:["Price :"," ",Object(p.jsxs)("b",{children:["$0 - $",Object(p.jsx)("span",{children:"1000"})]})]})]})]}),Object(p.jsxs)("div",{className:"related-products",children:[Object(p.jsx)("div",{className:"sidebar-heading",children:"Top Products"}),Object(p.jsx)("div",{className:"mini-product-show-container",children:this.state.topProduct.map((function(e){return Object(p.jsxs)("div",{className:"mini-product-show",children:[Object(p.jsx)("img",{style:{width:"70px",height:"70px"},src:e.uploadedImageSrc,alt:""}),Object(p.jsxs)("div",{class:"product-content",children:[Object(p.jsx)("span",{class:"mini-product-heading",children:e.productTitle}),Object(p.jsxs)("div",{class:"star",children:[Object(p.jsx)("img",{src:"./images/star.png",alt:""}),Object(p.jsx)("img",{src:"images/star.png",alt:""}),Object(p.jsx)("img",{src:"images/star.png",alt:""}),Object(p.jsx)("img",{src:"images/star.png",alt:""}),Object(p.jsx)("img",{src:"images/star.png",alt:""})]}),Object(p.jsxs)("div",{class:"mini-price",children:["$",e.price]})]})]})}))})]})]}),Object(p.jsxs)("div",{className:"main-product-listing",children:[Object(p.jsxs)("div",{className:"top-sort",children:[Object(p.jsx)("span",{className:"showing-card",children:"Showing 1-8 of 9 results"}),Object(p.jsxs)("select",{id:"selectedSort",onChange:this.sortByPrice,className:"sort-button",children:[Object(p.jsx)("option",{value:"0",children:"Default Sorting"}),Object(p.jsx)("option",{value:"1",children:"Price: High to Low"}),Object(p.jsx)("option",{value:"2",children:"Price: Low to High"})]})]}),Object(p.jsx)("div",{className:"product-listing",children:this.state.pageWiseProducts.map((function(t){return Object(p.jsxs)("div",{className:"product-card",id:"cardBtn","data-value":t.id,onClick:function(t){return e.productClicked(t)},children:[Object(p.jsxs)("div",{className:"product-image","data-value":t.id,children:[!0===t.sale?Object(p.jsx)("button",{className:"product-sale","data-value":t.id,children:"sale"}):"",Object(p.jsx)("img",{src:t.uploadedImageSrc,"data-value":t.id,alt:""})]}),Object(p.jsxs)("div",{class:"product-details","data-value":t.id,children:[Object(p.jsx)("span",{id:"productId",style:{display:"none"},children:t.id}),Object(p.jsx)("div",{class:"product-name","data-value":t.id,children:t.productTitle}),Object(p.jsxs)("div",{class:"product-price","data-value":t.id,children:["$",t.price]})]})]})}))}),Object(p.jsx)("ul",{className:"pagination",children:a.map((function(t,a){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("li",{className:"page",id:a,"data-page":t,onClick:e.pageNumbClick,children:t})})}))})]})]})})]})}}]),a}(c.a.Component),m=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,17)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;a(e),s(e),c(e),o(e),r(e)}))};r.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(g,{})}),document.getElementById("root")),m()}},[[16,1,2]]]);
//# sourceMappingURL=main.f761ea48.chunk.js.map